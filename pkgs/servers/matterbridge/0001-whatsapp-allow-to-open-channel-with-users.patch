From 48e6afeaeb8ae4e635e9dcc4cfd31ec46397577c Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?J=C3=B6rg=20Thalheim?= <joerg@thalheim.io>
Date: Thu, 15 Dec 2022 19:36:53 +0100
Subject: [PATCH 1/3] whatsapp: allow to open channel with users
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: JÃ¶rg Thalheim <joerg@thalheim.io>
---
 bridge/whatsappmulti/whatsapp.go | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/bridge/whatsappmulti/whatsapp.go b/bridge/whatsappmulti/whatsapp.go
index 686396d3..12781d5b 100644
--- a/bridge/whatsappmulti/whatsapp.go
+++ b/bridge/whatsappmulti/whatsapp.go
@@ -6,7 +6,6 @@
 import (
 	"context"
 	"errors"
-	"fmt"
 	"mime"
 	"os"
 	"path/filepath"
@@ -199,12 +198,13 @@ func (b *Bwhatsapp) JoinChannel(channel config.ChannelInfo) error {
 		for _, group := range groups {
 			b.Log.Infof("%s %s", group.JID, group.Name)
 		}
-		return fmt.Errorf("please specify group's JID from the list above instead of the name '%s'", channel.Name)
+		b.Log.Warnf("please specify group's JID from the list above instead of the name '%s'", channel.Name)
 	case 1:
-		return fmt.Errorf("group name might change. Please configure gateway with channel=\"%v\" instead of channel=\"%v\"", foundGroups[0], channel.Name)
+		b.Log.Warnf("group name might change. Please configure gateway with channel=\"%v\" instead of channel=\"%v\"", foundGroups[0], channel.Name)
 	default:
-		return fmt.Errorf("there is more than one group with name '%s'. Please specify one of JIDs as channel name: %v", channel.Name, foundGroups)
+		b.Log.Warnf("there is more than one group with name '%s'. Please specify one of JIDs as channel name: %v", channel.Name, foundGroups)
 	}
+	return nil;
 }
 
 // Post a document message from the bridge to WhatsApp
-- 
2.38.1

